<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passion Test | Arah Hidup & Makna</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --bg-color: #fefcf8;
            --primary: #674188;
            --secondary: #e1bee7;
            --accent: #ffb74d;
            --accent-2: #4db6ac;
            --text: #333;
            --light-text: #666;
            --white: #fff;
            --shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            background-color: var(--white);
            border-radius: 16px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }
        
        .header h1 {
            color: var(--primary);
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header p {
            color: var(--light-text);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .progress-container {
            width: 100%;
            height: 8px;
            background-color: #f0f0f0;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, var(--secondary), var(--primary));
            border-radius: 10px;
            transition: width 0.3s ease;
            width: 0%;
        }
        
        .question-container {
            display: none;
        }
        
        .question-container.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        .question {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 20px;
            color: var(--primary);
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .likert-scale {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .likert-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 18%;
            cursor: pointer;
            transition: all 0.2s;
            padding: 10px 5px;
            border-radius: 8px;
        }
        
        .likert-option:hover {
            background-color: var(--secondary);
        }
        
        .likert-option.selected {
            background-color: var(--primary);
            color: white;
        }
        
        .likert-option input {
            display: none;
        }
        
        .likert-option span {
            font-size: 0.9rem;
            text-align: center;
            margin-top: 5px;
        }
        
        .checkbox-option {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .checkbox-option:hover {
            border-color: var(--primary);
            background-color: #f9f4ff;
        }
        
        .checkbox-option.selected {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .checkbox-option input {
            display: none;
        }
        
        .ranking-container {
            margin-top: 20px;
        }
        
        .ranking-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid #ddd;
            margin-bottom: 10px;
            cursor: grab;
            background-color: white;
            transition: all 0.2s;
        }
        
        .ranking-item:hover {
            border-color: var(--primary);
        }
        
        .ranking-item.dragging {
            opacity: 0.5;
            border: 2px dashed var(--primary);
        }
        
        .ranking-number {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: 600;
        }
        
        .ranking-text {
            flex: 1;
        }
        
        .ranking-handle {
            color: #ccc;
            cursor: grab;
        }
        
        .open-question textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            height: 120px;
            resize: none;
            margin-top: 10px;
            transition: border 0.2s;
        }
        
        .open-question textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            font-size: 1rem;
            transition: all 0.2s;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #5a3575;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .btn-secondary {
            background-color: #f0f0f0;
            color: var(--text);
        }
        
        .btn-secondary:hover {
            background-color: #e0e0e0;
        }
        
        .btn-accent {
            background-color: var(--accent);
            color: white;
        }
        
        .btn-accent:hover {
            background-color: #f5a73c;
        }
        
        .btn-accent-2 {
            background-color: var(--accent-2);
            color: white;
        }
        
        .btn-accent-2:hover {
            background-color: #3da69b;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .intro-container, .name-container, .results-container {
            text-align: center;
        }
        
        .intro-container h2, .name-container h2, .results-container h2 {
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        .intro-container p, .name-container p {
            margin-bottom: 15px;
            font-size: 1.05rem;
        }
        
        .intro-features {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }
        
        .feature {
            width: 200px;
            padding: 20px;
            border-radius: 12px;
            background-color: white;
            box-shadow: var(--shadow);
            text-align: center;
        }
        
        .feature i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .feature h3 {
            font-size: 1.1rem;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .name-input {
            width: 100%;
            max-width: 400px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            margin: 20px auto;
            display: block;
        }
        
        .name-input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .results-container {
            display: none;
        }
        
        .results-header {
            margin-bottom: 30px;
        }
        
        .results-header h2 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .results-header p {
            color: var(--light-text);
        }
        
        .passion-themes {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .passion-theme {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 12px 20px;
            border-radius: 30px;
            font-weight: 500;
        }
        
        .results-narrative {
            background-color: #f9f4ff;
            border-left: 5px solid var(--primary);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: left;
        }
        
        .results-suggestions {
            margin: 30px 0;
            text-align: left;
        }
        
        .suggestion-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .suggestion-item i {
            color: var(--primary);
            margin-right: 15px;
            margin-top: 5px;
        }
        
        .spiritual-reflection {
            background-color: #fff8e1;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
            position: relative;
        }
        
        .spiritual-reflection::before {
            content: '"';
            font-size: 5rem;
            position: absolute;
            top: -20px;
            left: 10px;
            color: #ffe0b2;
            font-family: serif;
        }
        
        .quran-verse {
            font-style: italic;
            margin-top: 15px;
            color: var(--accent);
            font-weight: 500;
        }
        
        .results-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .decoration {
            position: absolute;
            z-index: -1;
            opacity: 0.1;
        }
        
        .decoration-1 {
            top: -50px;
            right: -50px;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: var(--primary);
        }
        
        .decoration-2 {
            bottom: -30px;
            left: -30px;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: var(--accent);
        }
        
        .limited-checkbox {
            margin-top: 10px;
            color: var(--light-text);
            font-size: 0.9rem;
        }
        
        /* New styles for enhanced results */
        .ikigai-container {
            width: 100%;
            max-width: 500px;
            height: 500px;
            margin: 40px auto;
            position: relative;
        }
        
        .ikigai-circle {
            position: absolute;
            width: 250px;
            height: 250px;
            border-radius: 50%;
            opacity: 0.7;
        }
        
        .ikigai-love {
            background-color: #ff7675;
            top: 0;
            left: 125px;
        }
        
        .ikigai-skill {
            background-color: #74b9ff;
            top: 125px;
            left: 0;
        }
        
        .ikigai-meaning {
            background-color: #55efc4;
            top: 125px;
            right: 0;
        }
        
        .ikigai-profession {
            background-color: #ffeaa7;
            bottom: 0;
            left: 125px;
        }
        
        .ikigai-label {
            position: absolute;
            font-weight: 600;
            font-size: 1rem;
            text-align: center;
            width: 100px;
        }
        
        .ikigai-love-label {
            top: 50px;
            left: 200px;
            color: #e74c3c;
        }
        
        .ikigai-skill-label {
            top: 200px;
            left: 50px;
            color: #3498db;
        }
        
        .ikigai-meaning-label {
            top: 200px;
            right: 50px;
            color: #2ecc71;
        }
        
        .ikigai-profession-label {
            bottom: 50px;
            left: 200px;
            color: #f39c12;
        }
        
        .ikigai-center {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: white;
            top: 200px;
            left: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: 700;
            color: var(--primary);
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            transform: translate(-50%, -50%);
        }
        
        .ikigai-marker {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--primary);
            border: 3px solid white;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            transform: translate(-50%, -50%);
            z-index: 10;
        }
        
        .section-title {
            color: var(--primary);
            font-size: 1.5rem;
            margin: 40px 0 20px;
            text-align: center;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            display: block;
            width: 50px;
            height: 3px;
            background-color: var(--accent);
            margin: 10px auto;
        }
        
        .steps-container {
            background-color: #f9f9f9;
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
        }
        
        .step-item {
            display: flex;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px dashed #ddd;
        }
        
        .step-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .step-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--accent-2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            flex-shrink: 0;
        }
        
        .step-content {
            flex: 1;
        }
        
        .step-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--primary);
        }
        
        .balance-warning {
            background-color: #f8f9fa;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 30px 0;
            text-align: left;
        }
        
        .balance-warning h4 {
            color: #856404;
            margin-bottom: 10px;
        }
        
        .balance-warning p {
            color: #666;
        }
        
        .balance-warning .theory {
            font-style: italic;
            font-size: 0.9rem;
            margin-top: 10px;
            color: #999;
        }
        
        .exploration-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 100;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .exploration-content {
            background-color: white;
            border-radius: 16px;
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
            position: relative;
            animation: modalFadeIn 0.3s;
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            color: #999;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .close-modal:hover {
            color: var(--primary);
            transform: rotate(90deg);
        }
        
        .exploration-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 10px;
        }
        
        .exploration-tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
        }
        
        .exploration-tab.active {
            border-bottom-color: var(--primary);
            color: var(--primary);
            font-weight: 500;
        }
        
        .exploration-panel {
            display: none;
        }
        
        .exploration-panel.active {
            display: block;
            animation: fadeIn 0.3s;
        }
        
        .activity-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
            transition: all 0.2s;
        }
        
        .activity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        
        .activity-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            flex-shrink: 0;
        }
        
        .activity-icon i {
            font-size: 1.8rem;
            color: var(--primary);
        }
        
        .activity-content {
            flex: 1;
        }
        
        .activity-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--primary);
        }
        
        .activity-description {
            color: var(--light-text);
            margin-bottom: 15px;
        }
        
        .activity-link {
            color: var(--accent-2);
            text-decoration: none;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
        }
        
        .activity-link i {
            margin-left: 5px;
            transition: transform 0.2s;
        }
        
        .activity-link:hover i {
            transform: translateX(3px);
        }
        
        .inspiration-quote {
            background-color: #f9f4ff;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            position: relative;
        }
        
        .inspiration-quote::before {
            content: '"';
            font-size: 5rem;
            position: absolute;
            top: -20px;
            left: 10px;
            color: #e1bee7;
            font-family: serif;
        }
        
        .quote-text {
            font-style: italic;
            font-size: 1.1rem;
            margin-bottom: 15px;
        }
        
        .quote-author {
            font-weight: 500;
            color: var(--primary);
            text-align: right;
        }
        
        .reflection-question {
            background-color: #e8f5e9;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
        }
        
        .reflection-question h4 {
            color: #2e7d32;
            margin-bottom: 15px;
        }
        
        .reflection-textarea {
            width: 100%;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            height: 120px;
            resize: none;
            margin-top: 10px;
            transition: border 0.2s;
        }
        
        .reflection-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .save-reflection {
            background-color: #2e7d32;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .save-reflection:hover {
            background-color: #1b5e20;
        }
        
        .course-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            overflow: hidden;
            margin-bottom: 20px;
            transition: all 0.2s;
        }
        
        .course-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        
        .course-image {
            height: 150px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .course-image i {
            font-size: 3rem;
            color: var(--primary);
        }
        
        .course-content {
            padding: 20px;
        }
        
        .course-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .course-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            color: var(--light-text);
            font-size: 0.9rem;
        }
        
        .course-description {
            color: var(--light-text);
            margin-bottom: 20px;
        }
        
        .course-button {
            background-color: var(--accent-2);
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .course-button:hover {
            background-color: #3da69b;
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .likert-scale {
                gap: 5px;
            }
            
            .likert-option {
                width: 19%;
            }
            
            .likert-option span {
                font-size: 0.8rem;
            }
            
            .navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            button {
                width: 100%;
            }
            
            .ikigai-container {
                width: 100%;
                height: 300px;
                max-width: 300px;
            }
            
            .ikigai-circle {
                width: 150px;
                height: 150px;
            }
            
            .ikigai-love {
                left: 75px;
            }
            
            .ikigai-skill {
                top: 75px;
            }
            
            .ikigai-meaning {
                top: 75px;
            }
            
            .ikigai-profession {
                left: 75px;
            }
            
            .ikigai-center {
                width: 60px;
                height: 60px;
                top: 120px;
                left: 120px;
                font-size: 0.8rem;
            }
            
            .ikigai-label {
                font-size: 0.8rem;
                width: 80px;
            }
            
            .ikigai-love-label {
                top: 30px;
                left: 110px;
            }
            
            .ikigai-skill-label {
                top: 120px;
                left: 20px;
            }
            
            .ikigai-meaning-label {
                top: 120px;
                right: 20px;
            }
            
            .ikigai-profession-label {
                bottom: 30px;
                left: 110px;
            }
            
            .exploration-tabs {
                flex-wrap: nowrap;
                overflow-x: auto;
                padding-bottom: 10px;
            }
            
            .exploration-tab {
                flex: 0 0 auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="decoration decoration-1"></div>
        <div class="decoration decoration-2"></div>
        
        <div class="header">
            <h1>Passion Test</h1>
            <p>Temukan apa yang benar-benar kamu cintai dan pedulikan dalam hidup</p>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <!-- Intro Section -->
        <div class="intro-container" id="introContainer">
            <h2><i class="fas fa-fire"></i> Apa itu Passion Test?</h2>
            <p>Passion Test adalah alat reflektif yang membantu kamu mengenali apa yang benar-benar kamu cintai, pedulikan, dan ingin perjuangkan dalam hidup.</p>
            <p>Tes ini akan membantumu mengenali minat yang konsisten, aktivitas yang membuat hidupmu terasa penuh, dan menghubungkan passion dengan arah hidup serta kontribusi sosialmu.</p>
            
            <div class="intro-features">
                <div class="feature">
                    <i class="fas fa-heart"></i>
                    <h3>Refleksi Diri</h3>
                    <p>Mengenali apa yang benar-benar kamu cintai</p>
                </div>
                <div class="feature">
                    <i class="fas fa-brain"></i>
                    <h3>Pola Minat</h3>
                    <p>Melihat konsistensi minat dalam hidupmu</p>
                </div>
                <div class="feature">
                    <i class="fas fa-lightbulb"></i>
                    <h3>Arah Hidup</h3>
                    <p>Menghubungkan passion dengan tujuan hidup</p>
                </div>
            </div>
            
            <p>Tes ini terdiri dari 25 pertanyaan dan membutuhkan waktu sekitar 10-15 menit untuk diselesaikan.</p>
            <p>Jawablah dengan jujur untuk mendapatkan hasil yang paling akurat.</p>
            
            <button class="btn-primary" id="startButton">Mulai Tes</button>
        </div>
        
        <!-- Question Container -->
        <div id="questionContainer" class="question-container">
            <!-- Questions will be dynamically inserted here -->
        </div>
        
        <!-- Name Input Container -->
        <div class="name-container" id="nameContainer" style="display: none;">
            <h2>Hampir Selesai!</h2>
            <p>Masukkan namamu untuk melihat hasil tes passion:</p>
            <input type="text" id="nameInput" class="name-input" placeholder="Nama Lengkap">
            <p id="nameError" style="color: red; display: none;">Silakan masukkan nama kamu terlebih dahulu</p>
            <button class="btn-primary" id="submitNameButton">Lihat Hasil</button>
        </div>
        
        <!-- Results Container -->
        <div class="results-container" id="resultsContainer">
            <div class="results-header">
                <h2>Hasil Passion Test</h2>
                <p>Untuk <span id="resultName">Nama</span></p>
            </div>
            
            <h3>Tema Passion Dominanmu:</h3>
            <div class="passion-themes" id="passionThemes">
                <!-- Passion themes will be inserted here -->
            </div>
            
            <div class="results-narrative" id="resultNarrative">
                <!-- Narrative will be inserted here -->
            </div>
            
            <h3 class="section-title">Peta Passion (Ikigai)</h3>
            <div class="ikigai-container">
                <div class="ikigai-circle ikigai-love"></div>
                <div class="ikigai-circle ikigai-skill"></div>
                <div class="ikigai-circle ikigai-meaning"></div>
                <div class="ikigai-circle ikigai-profession"></div>
                
                <div class="ikigai-label ikigai-love-label">Yang Kamu Cintai</div>
                <div class="ikigai-label ikigai-skill-label">Yang Kamu Kuasai</div>
                <div class="ikigai-label ikigai-meaning-label">Yang Dunia Butuhkan</div>
                <div class="ikigai-label ikigai-profession-label">Yang Bisa Dibayar</div>
                
                <div class="ikigai-center">IKIGAI</div>
                
                <!-- Marker will be positioned dynamically -->
                <div class="ikigai-marker" id="ikigaiMarker"></div>
            </div>
            
            <h3 class="section-title">Rekomendasi Langkah Kecil</h3>
            <div class="steps-container" id="recommendationSteps">
                <!-- Recommendations will be inserted here -->
            </div>
            
            <div class="balance-warning">
                <h4>Peringatan Keseimbangan</h4>
                <p>Semangat itu baik, tapi perlu diiringi arah dan manajemen. Passion yang tidak diseimbangkan bisa membuatmu cepat lelah atau kehilangan makna. Carilah keseimbangan antara semangat dan kebijaksanaan dalam mengejar passionmu.</p>
                <p class="theory">(Berdasarkan teori Harmonious vs Obsessive Passion â€“ Vallerand, 2003)</p>
            </div>
            
            <div class="spiritual-reflection">
                <p>Seseorang diciptakan dengan kecenderungan ('fitrah') yang unik. Passionmu bisa jadi adalah ladang amal dan jalan menuju ridha-Nya.</p>
                <p class="quran-verse">"Setiap dari kalian diciptakan dengan kecenderungan fitrah." (HR. Muslim)</p>
                <p>Temukan jalanmu, bukan hanya demi dirimu, tapi demi kontribusi yang Allah titipkan lewatmu.</p>
            </div>
            
            <div class="results-actions">
                <button class="btn-primary" id="downloadPdfButton">
                    <i class="fas fa-download"></i> Unduh PDF
                </button>
                <button class="btn-secondary" id="retakeButton">
                    <i class="fas fa-redo"></i> Ulangi Tes
                </button>
                <button class="btn-accent-2" id="exploreButton">
                    <i class="fas fa-compass"></i> Eksplorasi Passion
                </button>
            </div>
        </div>
        
        <!-- Navigation Buttons -->
        <div class="navigation" id="navigationButtons" style="display: none;">
            <button class="btn-secondary" id="prevButton">Sebelumnya</button>
            <button class="btn-primary" id="nextButton">Selanjutnya</button>
        </div>
    </div>
    
    <!-- Exploration Modal -->
    <div class="exploration-modal" id="explorationModal">
        <div class="exploration-content">
            <div class="close-modal" id="closeModal">
                <i class="fas fa-times"></i>
            </div>
            
            <h2>Eksplorasi Passion</h2>
            <p>Temukan cara untuk mengembangkan dan menerapkan passionmu dalam kehidupan sehari-hari.</p>
            
            <div class="exploration-tabs">
                <div class="exploration-tab active" data-tab="activities">Aktivitas Nyata</div>
                <div class="exploration-tab" data-tab="inspiration">Inspirasi & Renungan</div>
                <div class="exploration-tab" data-tab="reflection">Refleksi Diri</div>
                <div class="exploration-tab" data-tab="ikigai">Eksplorasi Ikigai</div>
                <div class="exploration-tab" data-tab="courses">Rekomendasi Pelatihan</div>
            </div>
            
            <div class="exploration-panel active" id="activitiesPanel">
                <h3>Aktivitas Nyata untuk Mengembangkan Passionmu</h3>
                <p>Berikut adalah beberapa aktivitas yang bisa kamu lakukan untuk mengembangkan passionmu:</p>
                
                <div class="activity-card">
                    <div class="activity-icon">
                        <i class="fas fa-pen-fancy"></i>
                    </div>
                    <div class="activity-content">
                        <h4 class="activity-title">Mulai Menulis Blog Pribadi</h4>
                        <p class="activity-description">Buatlah blog pribadi dan mulai menulis tentang topik yang kamu sukai. Tulislah setidaknya satu artikel per minggu untuk mengembangkan kebiasaan menulis.</p>
                        <a href="#" class="activity-link">Pelajari cara memulai blog <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
                
                <div class="activity-card">
                    <div class="activity-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="activity-content">
                        <h4 class="activity-title">Bergabung dengan Komunitas</h4>
                        <p class="activity-description">Temukan dan bergabunglah dengan komunitas yang memiliki minat serupa denganmu. Ini akan memberimu kesempatan untuk belajar, berbagi, dan tumbuh bersama.</p>
                        <a href="#" class="activity-link">Temukan komunitas sesuai minatmu <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
                
                <div class="activity-card">
                    <div class="activity-icon">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <div class="activity-content">
                        <h4 class="activity-title">Mulai Proyek Kecil</h4>
                        <p class="activity-description">Buatlah proyek kecil yang menggabungkan beberapa tema passionmu. Mulailah dari hal sederhana yang bisa diselesaikan dalam waktu 1-2 minggu.</p>
                        <a href="#" class="activity-link">Ide proyek untuk pemula <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
                
                <div class="activity-card">
                    <div class="activity-icon">
                        <i class="fas fa-hands-helping"></i>
                    </div>
                    <div class="activity-content">
                        <h4 class="activity-title">Menjadi Volunteer</h4>
                        <p class="activity-description">Gunakan passionmu untuk membantu orang lain melalui kegiatan volunteer. Ini akan memberimu perspektif baru dan pengalaman berharga.</p>
                        <a href="#" class="activity-link">Temukan kesempatan volunteer <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
                
                <div class="activity-card">
                    <div class="activity-icon">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <div class="activity-content">
                        <h4 class="activity-title">Bagikan Pengetahuanmu</h4>
                        <p class="activity-description">Mulailah berbagi pengetahuan yang kamu miliki melalui workshop kecil, tutorial online, atau sesi sharing informal dengan teman-teman.</p>
                        <a href="#" class="activity-link">Tips menjadi pembicara pemula <i class="fas fa-arrow-right"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="exploration-panel" id="inspirationPanel">
                <h3>Inspirasi & Renungan</h3>
                <p>Temukan inspirasi dari kisah dan kutipan tokoh-tokoh yang memiliki passion serupa denganmu:</p>
                
                <div class="inspiration-quote">
                    <p class="quote-text">Passion adalah energi. Rasakan kegembiraan yang muncul dari dalam, fokus pada apa yang membuatmu bersemangat.</p>
                    <p class="quote-author">- Oprah Winfrey</p>
                </div>
                
                <div class="inspiration-quote">
                    <p class="quote-text">Jika kamu tidak bisa menemukan passion dalam hidupmu, maka jadilah orang yang penuh passion. Passion bukan hanya tentang apa yang kamu lakukan, tapi bagaimana kamu melakukannya.</p>
                    <p class="quote-author">- Maya Angelou</p>
                </div>
                
                <div class="inspiration-quote">
                    <p class="quote-text">Passion akan membuatmu mengambil risiko yang tidak akan pernah kamu ambil. Passion akan membuatmu merasa bahwa kamu bisa melakukan apapun.</p>
                    <p class="quote-author">- Brian Stokes Mitchell</p>
                </div>
                
                <div class="inspiration-quote">
                    <p class="quote-text">Jangan mengejar kesuksesan; kejar kesempurnaan, dan kesuksesan akan mengejarmu.</p>
                    <p class="quote-author">- Imam Ali bin Abi Thalib</p>
                </div>
                
                <div class="inspiration-quote">
                    <p class="quote-text">Sebaik-baik manusia adalah yang paling bermanfaat bagi manusia lainnya.</p>
                    <p class="quote-author">- HR. Ahmad</p>
                </div>
            </div>
            
            <div class="exploration-panel" id="reflectionPanel">
                <h3>Refleksi Diri</h3>
                <p>Jawablah pertanyaan-pertanyaan berikut untuk memperdalam pemahamanmu tentang passionmu:</p>
                
                <div class="reflection-question">
                    <h4>1. Apa yang membuatmu lupa waktu?</h4>
                    <p>Pikirkan aktivitas yang membuatmu begitu tenggelam sehingga kamu lupa waktu. Apa yang membuatnya begitu menarik bagimu?</p>
                    <textarea class="reflection-textarea" placeholder="Tuliskan jawabanmu di sini..."></textarea>
                    <button class="save-reflection">Simpan Refleksi</button>
                </div>
                
                <div class="reflection-question">
                    <h4>2. Apa yang akan kamu lakukan jika kamu tidak perlu khawatir tentang uang?</h4>
                    <p>Bayangkan kamu memiliki kebebasan finansial penuh. Aktivitas apa yang akan tetap kamu lakukan meskipun tidak dibayar?</p>
                    <textarea class="reflection-textarea" placeholder="Tuliskan jawabanmu di sini..."></textarea>
                    <button class="save-reflection">Simpan Refleksi</button>
                </div>
                
                <div class="reflection-question">
                    <h4>3. Apa yang ingin orang kenang darimu?</h4>
                    <p>Bayangkan orang-orang berbicara tentangmu di masa depan. Apa yang ingin mereka katakan tentang kontribusimu?</p>
                    <textarea class="reflection-textarea" placeholder="Tuliskan jawabanmu di sini..."></textarea>
                    <button class="save-reflection">Simpan Refleksi</button>
                </div>
                
                <div class="reflection-question">
                    <h4>4. Apa yang membuatmu merasa berharga dan bermakna?</h4>
                    <p>Pikirkan saat-saat ketika kamu merasa hidupmu benar-benar bermakna. Apa yang kamu lakukan saat itu?</p>
                    <textarea class="reflection-textarea" placeholder="Tuliskan jawabanmu di sini..."></textarea>
                    <button class="save-reflection">Simpan Refleksi</button>
                </div>
            </div>
            
            <div class="exploration-panel" id="ikigaiPanel">
                <h3>Eksplorasi Ikigai</h3>
                <p>Ikigai adalah konsep Jepang yang berarti "alasan untuk hidup". Ini adalah pertemuan dari empat elemen: apa yang kamu cintai, apa yang kamu kuasai, apa yang dunia butuhkan, dan apa yang bisa dibayar.</p>
                
                <div class="reflection-question">
                    <h4>Apa yang kamu cintai?</h4>
                    <p>Tuliskan aktivitas, topik, atau hal-hal yang benar-benar kamu nikmati dan cintai.</p>
                    <textarea class="reflection-textarea" placeholder="Contoh: menulis, mengajar, mendesain, dll..."></textarea>
                </div>
                
                <div class="reflection-question">
                    <h4>Apa yang kamu kuasai?</h4>
                    <p>Tuliskan keterampilan, bakat, atau kemampuan yang kamu miliki atau ingin kamu kembangkan.</p>
                    <textarea class="reflection-textarea" placeholder="Contoh: analisis data, komunikasi, kreativitas, dll..."></textarea>
                </div>
                
                <div class="reflection-question">
                    <h4>Apa yang dunia butuhkan?</h4>
                    <p>Tuliskan masalah, kebutuhan, atau peluang yang ada di sekitarmu atau di dunia yang lebih luas.</p>
                    <textarea class="reflection-textarea" placeholder="Contoh: pendidikan berkualitas, solusi lingkungan, dll..."></textarea>
                </div>
                
                <div class="reflection-question">
                    <h4>Apa yang bisa dibayar?</h4>
                    <p>Tuliskan cara-cara kamu bisa mendapatkan penghasilan dari passionmu.</p>
                    <textarea class="reflection-textarea" placeholder="Contoh: mengajar online, menjual karya seni, konsultasi, dll..."></textarea>
                </div>
                
                <button class="btn-primary" style="margin-top: 20px;">Temukan Ikigai-mu</button>
            </div>
            
            <div class="exploration-panel" id="coursesPanel">
                <h3>Rekomendasi Pelatihan & Kursus</h3>
                <p>Berikut adalah beberapa rekomendasi pelatihan dan kursus yang mungkin sesuai dengan passionmu:</p>
                
                <div class="course-card">
                    <div class="course-image">
                        <i class="fas fa-chalkboard-teacher"></i>
                    </div>
                    <div class="course-content">
                        <h4 class="course-title">Dasar-dasar Public Speaking</h4>
                        <div class="course-info">
                            <span><i class="fas fa-clock"></i> 4 minggu</span>
                            <span><i class="fas fa-signal"></i> Pemula</span>
                        </div>
                        <p class="course-description">Kursus ini akan mengajarkan kamu dasar-dasar public speaking, mulai dari persiapan materi, teknik penyampaian, hingga mengatasi kecemasan berbicara di depan umum.</p>
                        <a href="#" class="course-button">Lihat Detail</a>
                    </div>
                </div>
                
                <div class="course-card">
                    <div class="course-image">
                        <i class="fas fa-pen-nib"></i>
                    </div>
                    <div class="course-content">
                        <h4 class="course-title">Creative Writing untuk Pemula</h4>
                        <div class="course-info">
                            <span><i class="fas fa-clock"></i> 6 minggu</span>
                            <span><i class="fas fa-signal"></i> Pemula</span>
                        </div>
                        <p class="course-description">Kursus ini akan membantu kamu mengembangkan keterampilan menulis kreatif, mulai dari menemukan ide, mengembangkan karakter, hingga teknik storytelling yang efektif.</p>
                        <a href="#" class="course-button">Lihat Detail</a>
                    </div>
                </div>
                
                <div class="course-card">
                    <div class="course-image">
                        <i class="fas fa-palette"></i>
                    </div>
                    <div class="course-content">
                        <h4 class="course-title">Dasar-dasar Desain Grafis</h4>
                        <div class="course-info">
                            <span><i class="fas fa-clock"></i> 8 minggu</span>
                            <span><i class="fas fa-signal"></i> Pemula</span>
                        </div>
                        <p class="course-description">Kursus ini akan mengajarkan kamu prinsip-prinsip dasar desain grafis, penggunaan software desain, dan cara membuat visual yang menarik dan efektif.</p>
                        <a href="#" class="course-button">Lihat Detail</a>
                    </div>
                </div>
                
                <div class="course-card">
                    <div class="course-image">
                        <i class="fas fa-hands-helping"></i>
                    </div>
                    <div class="course-content">
                        <h4 class="course-title">Dasar-dasar Coaching & Mentoring</h4>
                        <div class="course-info">
                            <span><i class="fas fa-clock"></i> 5 minggu</span>
                            <span><i class="fas fa-signal"></i> Menengah</span>
                        </div>
                        <p class="course-description">Kursus ini akan mengajarkan kamu keterampilan dasar coaching dan mentoring, termasuk teknik bertanya yang efektif, active listening, dan cara memberikan feedback yang konstruktif.</p>
                        <a href="#" class="course-button">Lihat Detail</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Questions data
        const questions = [
            {
                id: 1,
                type: "likert",
                question: "Ketika aku mengerjakan ini, aku merasa hidupku berarti.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 2,
                type: "likert",
                question: "Aku rela mengorbankan waktu dan energi untuk aktivitas ini.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 3,
                type: "likert",
                question: "Aku rela begadang atau lupa waktu ketika mengerjakan aktivitas ini.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 4,
                type: "likert",
                question: "Aku sering memikirkan atau merencanakan aktivitas ini bahkan ketika sedang melakukan hal lain.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 5,
                type: "likert",
                question: "Aku merasa energik dan bersemangat ketika melakukan aktivitas ini.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 6,
                type: "likert",
                question: "Aku merasa bahwa aktivitas ini adalah bagian dari identitas dan jati diriku.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 7,
                type: "likert",
                question: "Aku ingin terus mengembangkan keterampilan dalam aktivitas ini.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 8,
                type: "likert",
                question: "Aku merasa terhubung dengan orang lain melalui aktivitas ini.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 9,
                type: "likert",
                question: "Aku merasa bahwa aktivitas ini memiliki dampak positif bagi orang lain.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 10,
                type: "likert",
                question: "Aku tetap menikmati aktivitas ini meskipun menghadapi tantangan atau kesulitan.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 11,
                type: "checkbox",
                question: "Pilih 5 aktivitas yang paling kamu sukai atau sering kamu pikirkan tanpa disuruh:",
                options: [
                    "Menulis (artikel, cerita, puisi)",
                    "Mengajar atau berbagi pengetahuan",
                    "Membantu orang lain menyelesaikan masalah",
                    "Mendesain atau membuat karya visual",
                    "Meneliti dan menganalisis informasi",
                    "Bermusik (menyanyi, memainkan alat musik)",
                    "Memasak atau bereksperimen dengan makanan",
                    "Berolahraga atau aktivitas fisik",
                    "Berkebun atau merawat tanaman",
                    "Membangun atau memperbaiki sesuatu",
                    "Mengorganisir atau mengelola orang/acara",
                    "Berdiskusi tentang ide-ide atau konsep",
                    "Berakting atau tampil di depan umum",
                    "Mengembangkan teknologi atau aplikasi",
                    "Merawat atau mengasuh makhluk hidup"
                ],
                maxSelect: 5
            },
            {
                id: 12,
                type: "checkbox",
                question: "Pilih 5 tema yang paling menarik minatmu:",
                options: [
                    "Seni dan kreativitas",
                    "Pendidikan dan pembelajaran",
                    "Kesehatan dan kesejahteraan",
                    "Teknologi dan inovasi",
                    "Lingkungan dan keberlanjutan",
                    "Keadilan sosial dan kemanusiaan",
                    "Bisnis dan kewirausahaan",
                    "Spiritualitas dan pengembangan diri",
                    "Sains dan penemuan",
                    "Budaya dan sejarah",
                    "Komunikasi dan media",
                    "Olahraga dan petualangan",
                    "Politik dan kebijakan publik",
                    "Kuliner dan gastronomi",
                    "Arsitektur dan desain ruang"
                ],
                maxSelect: 5
            },
            {
                id: 13,
                type: "ranking",
                question: "Urutkan 5 hal berikut berdasarkan apa yang paling bermakna bagimu saat ini (1 = paling bermakna):",
                options: [
                    "Membantu orang lain",
                    "Berkarya dan mencipta",
                    "Mempelajari ilmu baru",
                    "Menyampaikan ide",
                    "Mendekat pada Tuhan"
                ]
            },
            {
                id: 14,
                type: "likert",
                question: "Aku merasa bahwa aktivitas ini selaras dengan nilai-nilai dan prinsip hidupku.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 15,
                type: "likert",
                question: "Aku merasa bahwa aktivitas ini memungkinkan aku untuk mengekspresikan diri dengan autentik.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 16,
                type: "likert",
                question: "Aku merasa bahwa aktivitas ini memberikan kontribusi positif pada dunia.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 17,
                type: "likert",
                question: "Aku merasa bahwa aktivitas ini membuatku tumbuh sebagai pribadi.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 18,
                type: "checkbox",
                question: "Pilih 5 kata sifat yang paling menggambarkan dirimu saat melakukan aktivitas yang kamu sukai:",
                options: [
                    "Kreatif",
                    "Analitis",
                    "Peduli",
                    "Tekun",
                    "Berani",
                    "Komunikatif",
                    "Terorganisir",
                    "Reflektif",
                    "Inovatif",
                    "Kolaboratif",
                    "Teliti",
                    "Adaptif",
                    "Visioner",
                    "Praktis",
                    "Inspiratif"
                ],
                maxSelect: 5
            },
            {
                id: 19,
                type: "likert",
                question: "Aku merasa bahwa aktivitas ini adalah sesuatu yang akan terus aku lakukan dalam jangka panjang.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 20,
                type: "likert",
                question: "Aku merasa bahwa aktivitas ini membuatku merasa hidup dan bersemangat.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 21,
                type: "checkbox",
                question: "Pilih 5 situasi di mana kamu merasa paling bahagia dan terpenuhi:",
                options: [
                    "Ketika membantu orang lain berkembang",
                    "Ketika menciptakan sesuatu dari awal",
                    "Ketika memecahkan masalah kompleks",
                    "Ketika berbagi pengetahuan dengan orang lain",
                    "Ketika bekerja dengan tangan (membuat/memperbaiki)",
                    "Ketika mengekspresikan diri melalui seni",
                    "Ketika berada di alam terbuka",
                    "Ketika berinteraksi dengan banyak orang",
                    "Ketika bekerja sendiri dengan fokus",
                    "Ketika mengorganisir dan mengelola",
                    "Ketika berpetualang dan mencoba hal baru",
                    "Ketika mempelajari topik mendalam",
                    "Ketika memimpin tim atau kelompok",
                    "Ketika merawat orang atau makhluk hidup",
                    "Ketika menganalisis data dan informasi"
                ],
                maxSelect: 5
            },
            {
                id: 22,
                type: "likert",
                question: "Aku merasa bahwa aktivitas ini membuatku kehilangan track waktu (flow state).",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 23,
                type: "likert",
                question: "Aku merasa bahwa aktivitas ini adalah sesuatu yang aku lakukan karena keinginan sendiri, bukan karena tekanan eksternal.",
                scale: ["Sangat Tidak Setuju", "Tidak Setuju", "Netral", "Setuju", "Sangat Setuju"],
                score: [1, 2, 3, 4, 5]
            },
            {
                id: 24,
                type: "open",
                question: "Apa satu hal yang jika kamu lakukan setiap hari, kamu merasa hidupmu berharga?"
            },
            {
                id: 25,
                type: "open",
                question: "Jika kamu memiliki waktu dan sumber daya tak terbatas, apa yang akan kamu lakukan dengan hidupmu?"
            }
        ];
        
        // Global variables
        let currentQuestionIndex = 0;
        const answers = {};
        let userName = "";
        
        // DOM elements
        const introContainer = document.getElementById('introContainer');
        const questionContainer = document.getElementById('questionContainer');
        const nameContainer = document.getElementById('nameContainer');
        const resultsContainer = document.getElementById('resultsContainer');
        const navigationButtons = document.getElementById('navigationButtons');
        const progressBar = document.getElementById('progressBar');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const startButton = document.getElementById('startButton');
        const submitNameButton = document.getElementById('submitNameButton');
        const nameInput = document.getElementById('nameInput');
        const nameError = document.getElementById('nameError');
        const resultName = document.getElementById('resultName');
        const passionThemes = document.getElementById('passionThemes');
        const resultNarrative = document.getElementById('resultNarrative');
        const downloadPdfButton = document.getElementById('downloadPdfButton');
        const retakeButton = document.getElementById('retakeButton');
        const exploreButton = document.getElementById('exploreButton');
        const explorationModal = document.getElementById('explorationModal');
        const closeModal = document.getElementById('closeModal');
        const ikigaiMarker = document.getElementById('ikigaiMarker');
        const recommendationSteps = document.getElementById('recommendationSteps');
        
        // Event listeners
        startButton.addEventListener('click', startTest);
        prevButton.addEventListener('click', goToPreviousQuestion);
        nextButton.addEventListener('click', goToNextQuestion);
        submitNameButton.addEventListener('click', submitName);
        downloadPdfButton.addEventListener('click', downloadPdf);
        retakeButton.addEventListener('click', retakeTest);
        exploreButton.addEventListener('click', openExplorationModal);
        closeModal.addEventListener('click', closeExplorationModal);
        
        // Add event listeners to exploration tabs
        document.querySelectorAll('.exploration-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const tabId = tab.getAttribute('data-tab');
                switchExplorationTab(tabId);
            });
        });
        
        // Start the test
        function startTest() {
            introContainer.style.display = 'none';
            questionContainer.style.display = 'block';
            navigationButtons.style.display = 'flex';
            loadQuestion(currentQuestionIndex);
            updateProgressBar();
        }
        
        // Load a question
        function loadQuestion(index) {
            questionContainer.innerHTML = '';
            const question = questions[index];
            
            const questionElement = document.createElement('div');
            questionElement.classList.add('question-container', 'active');
            
            const questionText = document.createElement('div');
            questionText.classList.add('question');
            questionText.textContent = question.question;
            questionElement.appendChild(questionText);
            
            const optionsContainer = document.createElement('div');
            optionsContainer.classList.add('options');
            
            switch (question.type) {
                case 'likert':
                    createLikertScale(optionsContainer, question, index);
                    break;
                case 'checkbox':
                    createCheckboxOptions(optionsContainer, question, index);
                    break;
                case 'ranking':
                    createRankingOptions(optionsContainer, question, index);
                    break;
                case 'open':
                    createOpenQuestion(optionsContainer, question, index);
                    break;
            }
            
            questionElement.appendChild(optionsContainer);
            questionContainer.appendChild(questionElement);
            
            // Update navigation buttons
            prevButton.disabled = index === 0;
            nextButton.textContent = index === questions.length - 1 ? 'Selesai' : 'Selanjutnya';
        }
        
        // Create Likert scale options
        function createLikertScale(container, question, questionIndex) {
            const scaleContainer = document.createElement('div');
            scaleContainer.classList.add('likert-scale');
            
            question.scale.forEach((option, index) => {
                const optionElement = document.createElement('label');
                optionElement.classList.add('likert-option');
                
                if (answers[questionIndex] !== undefined && answers[questionIndex] === index) {
                    optionElement.classList.add('selected');
                }
                
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = `question-${questionIndex}`;
                input.value = index;
                
                input.addEventListener('change', () => {
                    document.querySelectorAll(`.likert-option`).forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    optionElement.classList.add('selected');
                    answers[questionIndex] = index;
                });
                
                const span = document.createElement('span');
                span.textContent = option;
                
                optionElement.appendChild(input);
                optionElement.appendChild(span);
                scaleContainer.appendChild(optionElement);
            });
            
            container.appendChild(scaleContainer);
        }
        
        // Create checkbox options
        function createCheckboxOptions(container, question, questionIndex) {
            if (!answers[questionIndex]) {
                answers[questionIndex] = [];
            }
            
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('label');
                optionElement.classList.add('checkbox-option');
                
                if (answers[questionIndex].includes(index)) {
                    optionElement.classList.add('selected');
                }
                
                const input = document.createElement('input');
                input.type = 'checkbox';
                input.name = `question-${questionIndex}`;
                input.value = index;
                
                input.addEventListener('change', () => {
                    if (input.checked) {
                        if (answers[questionIndex].length >= question.maxSelect) {
                            input.checked = false;
                            return;
                        }
                        answers[questionIndex].push(index);
                        optionElement.classList.add('selected');
                    } else {
                        answers[questionIndex] = answers[questionIndex].filter(i => i !== index);
                        optionElement.classList.remove('selected');
                    }
                    updateLimitMessage();
                });
                
                const span = document.createElement('span');
                span.textContent = option;
                
                optionElement.appendChild(input);
                optionElement.appendChild(span);
                container.appendChild(optionElement);
            });
            
            // Add limit message
            const limitMessage = document.createElement('div');
            limitMessage.classList.add('limited-checkbox');
            limitMessage.id = `limit-message-${questionIndex}`;
            limitMessage.textContent = `Pilih maksimal ${question.maxSelect} opsi (${answers[questionIndex].length}/${question.maxSelect})`;
            container.appendChild(limitMessage);
            
            function updateLimitMessage() {
                const message = document.getElementById(`limit-message-${questionIndex}`);
                if (message) {
                    message.textContent = `Pilih maksimal ${question.maxSelect} opsi (${answers[questionIndex].length}/${question.maxSelect})`;
                }
            }
        }
        
        // Create ranking options
        function createRankingOptions(container, question, questionIndex) {
            if (!answers[questionIndex]) {
                answers[questionIndex] = [...Array(question.options.length).keys()];
            }
            
            const rankingContainer = document.createElement('div');
            rankingContainer.classList.add('ranking-container');
            
            const items = answers[questionIndex].map((rank, index) => {
                return {
                    index: index,
                    text: question.options[index],
                    rank: rank
                };
            }).sort((a, b) => a.rank - b.rank);
            
            items.forEach((item, index) => {
                const rankingItem = document.createElement('div');
                rankingItem.classList.add('ranking-item');
                rankingItem.draggable = true;
                rankingItem.dataset.index = item.index;
                
                const rankingNumber = document.createElement('div');
                rankingNumber.classList.add('ranking-number');
                rankingNumber.textContent = index + 1;
                
                const rankingText = document.createElement('div');
                rankingText.classList.add('ranking-text');
                rankingText.textContent = item.text;
                
                const rankingHandle = document.createElement('div');
                rankingHandle.classList.add('ranking-handle');
                rankingHandle.innerHTML = '<i class="fas fa-grip-lines"></i>';
                
                rankingItem.appendChild(rankingNumber);
                rankingItem.appendChild(rankingText);
                rankingItem.appendChild(rankingHandle);
                
                // Drag and drop functionality
                rankingItem.addEventListener('dragstart', () => {
                    rankingItem.classList.add('dragging');
                });
                
                rankingItem.addEventListener('dragend', () => {
                    rankingItem.classList.remove('dragging');
                    updateRankings();
                });
                
                rankingContainer.appendChild(rankingItem);
            });
            
            rankingContainer.addEventListener('dragover', e => {
                e.preventDefault();
                const afterElement = getDragAfterElement(rankingContainer, e.clientY);
                const draggable = document.querySelector('.dragging');
                if (afterElement == null) {
                    rankingContainer.appendChild(draggable);
                } else {
                    rankingContainer.insertBefore(draggable, afterElement);
                }
            });
            
            container.appendChild(rankingContainer);
            
            function getDragAfterElement(container, y) {
                const draggableElements = [...container.querySelectorAll('.ranking-item:not(.dragging)')];
                
                return draggableElements.reduce((closest, child) => {
                    const box = child.getBoundingClientRect();
                    const offset = y - box.top - box.height / 2;
                    if (offset < 0 && offset > closest.offset) {
                        return { offset: offset, element: child };
                    } else {
                        return closest;
                    }
                }, { offset: Number.NEGATIVE_INFINITY }).element;
            }
            
            function updateRankings() {
                const items = [...rankingContainer.querySelectorAll('.ranking-item')];
                items.forEach((item, index) => {
                    item.querySelector('.ranking-number').textContent = index + 1;
                    const originalIndex = parseInt(item.dataset.index);
                    answers[questionIndex][originalIndex] = index;
                });
            }
        }
        
        // Create open question
        function createOpenQuestion(container, question, questionIndex) {
            const textareaContainer = document.createElement('div');
            textareaContainer.classList.add('open-question');
            
            const textarea = document.createElement('textarea');
            textarea.placeholder = 'Tuliskan jawabanmu di sini...';
            
            if (answers[questionIndex]) {
                textarea.value = answers[questionIndex];
            }
            
            textarea.addEventListener('input', () => {
                answers[questionIndex] = textarea.value;
            });
            
            textareaContainer.appendChild(textarea);
            container.appendChild(textareaContainer);
        }
        
        // Go to next question
        function goToNextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
                updateProgressBar();
            } else {
                finishTest();
            }
        }
        
        // Go to previous question
        function goToPreviousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
                updateProgressBar();
            }
        }
        
        // Update progress bar
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }
        
        // Finish the test
        function finishTest() {
            questionContainer.style.display = 'none';
            navigationButtons.style.display = 'none';
            nameContainer.style.display = 'block';
        }
        
        // Submit name and show results
        function submitName() {
            userName = nameInput.value.trim();
            
            if (!userName) {
                nameError.style.display = 'block';
                return;
            }
            
            nameError.style.display = 'none';
            nameContainer.style.display = 'none';
            resultsContainer.style.display = 'block';
            
            // Process results
            processResults();
        }
        
        // Process test results
        function processResults() {
            resultName.textContent = userName;
            
            // Calculate passion themes based on answers
            const passionThemeResults = calculatePassionThemes();
            
            // Display passion themes
            passionThemes.innerHTML = '';
            passionThemeResults.forEach(theme => {
                const themeElement = document.createElement('div');
                themeElement.classList.add('passion-theme');
                themeElement.textContent = theme;
                passionThemes.appendChild(themeElement);
            });
            
            // Generate narrative
            const narrative = generateNarrative(passionThemeResults);
            resultNarrative.innerHTML = narrative;
            
            // Position Ikigai marker
            positionIkigaiMarker();
            
            // Generate recommendations
            generateRecommendations(passionThemeResults);
        }
        
        // Calculate passion themes based on answers
        function calculatePassionThemes() {
            // This is a simplified calculation for demo purposes
            // In a real application, you would have a more sophisticated algorithm
            
            const themes = [
                "Kreativitas & Ekspresi",
                "Pengajaran & Berbagi",
                "Membantu & Melayani",
                "Analisis & Pemecahan Masalah",
                "Kepemimpinan & Organisasi",
                "Eksplorasi & Petualangan",
                "Spiritualitas & Refleksi"
            ];
            
            // Randomly select 3-5 themes for demo
            const numThemes = Math.floor(Math.random() * 3) + 3; // 3-5 themes
            const selectedThemes = [];
            
            while (selectedThemes.length < numThemes) {
                const randomIndex = Math.floor(Math.random() * themes.length);
                const theme = themes[randomIndex];
                
                if (!selectedThemes.includes(theme)) {
                    selectedThemes.push(theme);
                }
            }
            
            return selectedThemes;
        }
        
        // Generate narrative based on passion themes
        function generateNarrative(themes) {
            let narrative = `<p>${userName}, kamu cenderung merasa paling hidup saat bisa mengekspresikan diri melalui ${themes[0].toLowerCase()} dan ${themes[1].toLowerCase()}. Kamu memiliki kecenderungan kuat untuk menggabungkan kreativitas dengan tujuan yang lebih besar.</p>`;
            
            narrative += `<p>Ini bisa berarti passion-mu berada dalam area:</p>`;
            narrative += `<ul>`;
            
            if (themes.includes("Kreativitas & Ekspresi")) {
                narrative += `<li>Menulis atau bercerita</li>`;
            }
            
            if (themes.includes("Pengajaran & Berbagi")) {
                narrative += `<li>Public speaking atau mengajar</li>`;
            }
            
            if (themes.includes("Membantu & Melayani")) {
                narrative += `<li>Konseling atau pendampingan</li>`;
            }
            
            if (themes.includes("Analisis & Pemecahan Masalah")) {
                narrative += `<li>Penelitian atau pengembangan solusi</li>`;
            }
            
            if (themes.includes("Kepemimpinan & Organisasi")) {
                narrative += `<li>Memimpin tim atau mengelola proyek</li>`;
            }
            
            if (themes.includes("Eksplorasi & Petualangan")) {
                narrative += `<li>Menjelajah ide-ide baru atau tempat baru</li>`;
            }
            
            if (themes.includes("Spiritualitas & Refleksi")) {
                narrative += `<li>Menulis reflektif atau mentoring spiritual</li>`;
            }
            
            narrative += `</ul>`;
            
            narrative += `<p>Passionmu menunjukkan bahwa kamu memiliki potensi besar untuk berkontribusi di bidang yang melibatkan ${themes[0].toLowerCase()} sambil tetap mengembangkan ${themes[themes.length-1].toLowerCase()}. Ingatlah bahwa passion bukan hanya tentang apa yang kamu sukai, tetapi juga tentang apa yang membuat hidupmu terasa bermakna dan memberikan dampak positif bagi orang lain.</p>`;
            
            return narrative;
        }
        
        // Position Ikigai marker
        function positionIkigaiMarker() {
            // This is a simplified calculation for demo purposes
            // In a real application, you would calculate this based on the user's answers
            
            // Random position within the Ikigai diagram
            const love = Math.random() * 0.8 + 0.1; // 0.1 to 0.9
            const skill = Math.random() * 0.8 + 0.1; // 0.1 to 0.9
            const meaning = Math.random() * 0.8 + 0.1; // 0.1 to 0.9
            const profession = Math.random() * 0.8 + 0.1; // 0.1 to 0.9
            
            // Calculate position based on the four dimensions
            // This is a simplified calculation that places the marker somewhere in the diagram
            const x = 200 + (skill * 100) - (meaning * 100);
            const y = 200 + (love * 100) - (profession * 100);
            
            // Position the marker
            ikigaiMarker.style.left = `${x}px`;
            ikigaiMarker.style.top = `${y}px`;
        }
        
        // Generate recommendations
        function generateRecommendations(themes) {
            recommendationSteps.innerHTML = '';
            
            const recommendations = [
                {
                    icon: 'fas fa-pen-fancy',
                    title: 'Mulai Menulis Blog Pribadi',
                    description: 'Luangkan waktu 30 menit setiap minggu untuk menulis tentang topik yang kamu sukai. Mulailah dengan platform blog gratis seperti Medium atau WordPress.'
                },
                {
                    icon: 'fas fa-users',
                    title: 'Bergabung dengan Komunitas',
                    description: 'Temukan dan bergabunglah dengan komunitas yang memiliki minat serupa denganmu. Cari grup di media sosial atau platform seperti Meetup.'
                },
                {
                    icon: 'fas fa-book',
                    title: 'Baca Buku Inspiratif',
                    description: 'Pilih satu buku tentang topik yang kamu minati dan selesaikan dalam sebulan. Buatlah catatan refleksi setelah membacanya.'
                },
                {
                    icon: 'fas fa-chalkboard-teacher',
                    title: 'Bagikan Pengetahuanmu',
                    description: 'Mulailah berbagi pengetahuan yang kamu miliki melalui workshop kecil, tutorial online, atau sesi sharing informal dengan teman-teman.'
                },
                {
                    icon: 'fas fa-project-diagram',
                    title: 'Mulai Proyek Kecil',
                    description: 'Buatlah proyek kecil yang menggabungkan beberapa tema passionmu. Mulailah dari hal sederhana yang bisa diselesaikan dalam waktu 1-2 minggu.'
                }
            ];
            
            // Shuffle and select 3 recommendations
            const shuffled = recommendations.sort(() => 0.5 - Math.random());
            const selected = shuffled.slice(0, 3);
            
            selected.forEach(recommendation => {
                const stepItem = document.createElement('div');
                stepItem.classList.add('step-item');
                
                const stepIcon = document.createElement('div');
                stepIcon.classList.add('step-icon');
                stepIcon.innerHTML = `<i class="${recommendation.icon}"></i>`;
                
                const stepContent = document.createElement('div');
                stepContent.classList.add('step-content');
                
                const stepTitle = document.createElement('div');
                stepTitle.classList.add('step-title');
                stepTitle.textContent = recommendation.title;
                
                const stepDescription = document.createElement('div');
                stepDescription.textContent = recommendation.description;
                
                stepContent.appendChild(stepTitle);
                stepContent.appendChild(stepDescription);
                
                stepItem.appendChild(stepIcon);
                stepItem.appendChild(stepContent);
                
                recommendationSteps.appendChild(stepItem);
            });
        }
        
        // Download results as PDF
        function downloadPdf() {
            const element = resultsContainer;
            const opt = {
                margin: 10,
                filename: `Passion Test - ${userName}.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            
            html2pdf().set(opt).from(element).save();
        }
        
        // Retake the test
        function retakeTest() {
            // Reset variables
            currentQuestionIndex = 0;
            for (const key in answers) {
                delete answers[key];
            }
            userName = "";
            
            // Reset UI
            resultsContainer.style.display = 'none';
            introContainer.style.display = 'block';
            nameInput.value = "";
        }
        
        // Open exploration modal
        function openExplorationModal() {
            explorationModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        
        // Close exploration modal
        function closeExplorationModal() {
            explorationModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // Switch exploration tab
        function switchExplorationTab(tabId) {
            // Hide all panels
            document.querySelectorAll('.exploration-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            // Show selected panel
            document.getElementById(`${tabId}Panel`).classList.add('active');
            
            // Update tab styling
            document.querySelectorAll('.exploration-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelector(`.exploration-tab[data-tab="${tabId}"]`).classList.add('active');
        }
        
        // Close modal when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === explorationModal) {
                closeExplorationModal();
            }
        });
        
        // Save reflection (placeholder function)
        document.querySelectorAll('.save-reflection').forEach(button => {
            button.addEventListener('click', function() {
                const textarea = this.previousElementSibling;
                if (textarea.value.trim() !== '') {
                    alert('Refleksi berhasil disimpan!');
                } else {
                    alert('Silakan tulis refleksimu terlebih dahulu.');
                }
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96701e0ae55b4a47',t:'MTc1MzgyODgyMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
