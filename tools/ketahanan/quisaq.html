<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuis Ketahanan Psikologis (Adversity Quotient)</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --light: #ecf0f1;
            --dark: #34495e;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            margin: 20px auto;
            background: rgba(44, 62, 80, 0.95);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }
        
        header {
            background: var(--secondary);
            padding: 25px 30px;
            text-align: center;
            border-bottom: 3px solid var(--primary);
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--light);
        }
        
        header p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .dimension-info {
            background: rgba(52, 73, 94, 0.8);
            padding: 20px;
            margin: 20px;
            border-radius: 10px;
            border-left: 4px solid var(--primary);
        }
        
        .dimension-info h2 {
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .question-container {
            padding: 25px;
        }
        
        .question-box {
            background: rgba(236, 240, 241, 0.1);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .question-id {
            background: var(--primary);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .question-dimension {
            background: var(--secondary);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .question-text {
            font-size: 1.3rem;
            margin-bottom: 25px;
            line-height: 1.6;
        }
        
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .option {
            background: rgba(52, 73, 94, 0.7);
            padding: 18px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: flex-start;
            gap: 15px;
            border: 2px solid transparent;
        }
        
        .option:hover {
            background: rgba(52, 73, 94, 1);
            transform: translateY(-3px);
        }
        
        .option.selected {
            background: rgba(41, 128, 185, 0.3);
            border-color: var(--primary);
        }
        
        .option-badge {
            background: var(--dark);
            min-width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .option-text {
            flex: 1;
            font-size: 1.1rem;
        }
        
        .reflection-box {
            background: rgba(26, 188, 156, 0.1);
            border-left: 4px solid var(--success);
            padding: 15px 20px;
            margin-top: 15px;
            border-radius: 0 8px 8px 0;
            font-style: italic;
            display: none;
        }
        
        .reflection-icon {
            margin-right: 10px;
            color: var(--success);
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            padding: 0 25px 25px;
            gap: 15px;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn-prev {
            background: var(--dark);
            color: var(--light);
        }
        
        .btn-next {
            background: var(--primary);
            color: white;
        }
        
        .btn-submit {
            background: var(--success);
            color: white;
        }
        
        .progress-container {
            padding: 0 25px 25px;
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .progress-bar {
            height: 12px;
            background: var(--dark);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .dimension-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 0 25px 25px;
            justify-content: center;
        }
        
        .dimension-tag {
            background: rgba(52, 152, 219, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid var(--primary);
        }
        
        .dimension-tag.active {
            background: var(--primary);
            font-weight: bold;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: auto;
        }
        
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
            
            .option-text {
                font-size: 1rem;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-brain"></i> Kuis Ketahanan Psikologis</h1>
            <p>Ukur kemampuan Anda menghadapi tantangan dan bangkit dari kesulitan melalui kuis Adversity Quotient (AQ) ini. Pilih jawaban yang paling menggambarkan sikap Anda dalam berbagai situasi sulit.</p>
        </header>
        
        <div class="dimension-info">
            <h2><i class="fas fa-info-circle"></i> Tentang Dimensi Ketahanan</h2>
            <p>Kuis ini mengukur 4 dimensi ketahanan psikologis: <strong>Control</strong> (kemampuan mengendalikan situasi), <strong>Ownership</strong> (rasa tanggung jawab), <strong>Reach</strong> (pengaruh masalah terhadap aspek hidup), dan <strong>Endurance</strong> (ketahanan menghadapi kesulitan).</p>
        </div>
        
        <div class="dimension-tags">
            <div class="dimension-tag active">Control</div>
            <div class="dimension-tag">Ownership</div>
            <div class="dimension-tag">Reach</div>
            <div class="dimension-tag">Endurance</div>
        </div>
        
        <div class="progress-container">
            <div class="progress-header">
                <span>Progress Kuis</span>
                <span id="progress-text">1/20</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>
        
        <div class="question-container">
            <!-- Pertanyaan akan di-generate oleh JavaScript -->
        </div>
        
        <div class="controls">
            <button class="btn btn-prev" id="prev-btn">
                <i class="fas fa-arrow-left"></i> Sebelumnya
            </button>
            <button class="btn btn-next" id="next-btn">
                Berikutnya <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </div>
    
    <footer>
        <p>Â© 2023 MindZep - Alat Pengembangan Diri | Kuis Adversity Quotient (AQ)</p>
    </footer>
    
    <script>
        // Data kuis dari aq_questions.json
        const quizData = [
            {
                "id": 1,
                "dimension": "Control",
                "question": "Saat mengalami kegagalan dalam proyek penting, bagaimana sikapmu?",
                "options": [
                    "Aku merasa lumpuh dan bingung harus bagaimana",
                    "Aku mencoba menerima dan berpikir ulang rencanaku",
                    "Aku fokus pada apa yang masih bisa kulakukan"
                ],
                "weights": [1, 2, 3],
                "reflection": "Kendali batin adalah kekuatan pertama dalam menghadapi ujian."
            },
            {
                "id": 2,
                "dimension": "Control",
                "question": "Ketika rencana terganggu oleh hal di luar kendali, kamu merasa...",
                "options": [
                    "Segalanya jadi tidak mungkin dijalankan",
                    "Ada sedikit celah, tapi sulit dimanfaatkan",
                    "Masih ada bagian yang bisa kuusahakan"
                ],
                "weights": [1, 2, 3],
                "reflection": "Bahkan badai tidak bisa menggoyahkan jiwa yang punya keteguhan fokus."
            },
            {
                "id": 3,
                "dimension": "Control",
                "question": "Jika kamu terlambat karena macet berat, bagaimana kamu merespon?",
                "options": [
                    "Aku kesal dan menyalahkan keadaan",
                    "Aku mencoba menenangkan diri sambil menunggu",
                    "Aku cari alternatif solusi, seperti mengabari atau alihkan rute"
                ],
                "weights": [1, 2, 3],
                "reflection": "Kendali bukan soal situasi, tapi bagaimana kita meresponnya."
            },
            {
                "id": 4,
                "dimension": "Control",
                "question": "Saat orang lain mengecewakanmu, kamu cenderung...",
                "options": [
                    "Putus asa dan merasa tak bisa berbuat apa-apa",
                    "Mencoba memahami tapi tetap kecewa",
                    "Mengatur ulang harapan dan bertindak sesuai yang bisa dikendalikan"
                ],
                "weights": [1, 2, 3],
                "reflection": "Mengendalikan ekspektasi adalah bagian dari kedewasaan."
            },
            {
                "id": 5,
                "dimension": "Control",
                "question": "Di tengah tekanan berat, kamu lebih sering...",
                "options": [
                    "Membiarkan semuanya berjalan tanpa arah",
                    "Berpikir sambil menunggu kondisi membaik",
                    "Mencari celah kecil untuk tetap melangkah"
                ],
                "weights": [1, 2, 3],
                "reflection": "Kekuatan sejati tampak saat segala sesuatu tak lagi pasti."
            },
            {
                "id": 6,
                "dimension": "Ownership",
                "question": "Jika hasil kerjamu dikritik keras, kamu biasanya...",
                "options": [
                    "Langsung menyalahkan faktor eksternal",
                    "Berusaha menerima meski merasa tidak adil",
                    "Mencari celah perbaikan dalam diriku"
                ],
                "weights": [1, 2, 3],
                "reflection": "Tanggung jawab bukan beban, tapi jembatan menuju perubahan."
            },
            {
                "id": 7,
                "dimension": "Ownership",
                "question": "Saat timmu gagal mencapai target, kamu merasa...",
                "options": [
                    "Bukan urusanku, yang lain lebih bertanggung jawab",
                    "Aku ikut bertanggung jawab, tapi sebagian kecil saja",
                    "Aku merefleksi peranku dan belajar dari kesalahan tim"
                ],
                "weights": [1, 2, 3],
                "reflection": "Pemilik sejati keberhasilan adalah mereka yang juga mau memikul kegagalan."
            },
            {
                "id": 8,
                "dimension": "Ownership",
                "question": "Ketika masalah muncul berulang, kamu berpikir...",
                "options": [
                    "Lingkungan dan orang sekitar memang menyebalkan",
                    "Mungkin aku kurang tepat menyikapi",
                    "Aku harus perbaiki pola sikap dan pendekatanku"
                ],
                "weights": [1, 2, 3],
                "reflection": "Salah satu ciri jiwa matang adalah keberanian mengevaluasi diri."
            },
            {
                "id": 9,
                "dimension": "Ownership",
                "question": "Saat konflik muncul, kamu cenderung...",
                "options": [
                    "Menarik diri dan membiarkan orang lain yang bertanggung jawab",
                    "Menunggu sampai suasana reda baru bertindak",
                    "Mencari tahu kontribusiku dalam konflik tersebut"
                ],
                "weights": [1, 2, 3],
                "reflection": "Mengakui kesalahan tak melemahkan, justru menguatkan karakter."
            },
            {
                "id": 10,
                "dimension": "Ownership",
                "question": "Jika pekerjaanmu gagal total, kamu akan...",
                "options": [
                    "Berhenti dan menyimpulkan 'aku memang gagal'",
                    "Mengeluh tapi tetap lanjut esoknya",
                    "Menuliskan hal yang bisa kupelajari dari kegagalan ini"
                ],
                "weights": [1, 2, 3],
                "reflection": "Tanggung jawab sejati dimulai saat kita berhenti menyalahkan dunia."
            },
            {
                "id": 11,
                "dimension": "Reach",
                "question": "Saat terjadi konflik di keluarga, dampaknya ke hal lain adalah...",
                "options": [
                    "Semua jadi kacau, bahkan pekerjaan ikut terganggu",
                    "Fokus terganggu tapi masih bisa jalan",
                    "Aku berusaha memisahkan masalah agar tidak meluas"
                ],
                "weights": [1, 2, 3],
                "reflection": "Masalah yang besar tidak selalu harus menyelimuti seluruh hidupmu."
            },
            {
                "id": 12,
                "dimension": "Reach",
                "question": "Jika satu tugas gagal, kamu merasa...",
                "options": [
                    "Seluruh hidupku berantakan",
                    "Sebagian diriku ikut kecewa",
                    "Tugas itu gagal, tapi aku masih bisa berhasil di area lain"
                ],
                "weights": [1, 2, 3],
                "reflection": "Keutuhan diri tidak ditentukan oleh satu kegagalan."
            },
            {
                "id": 13,
                "dimension": "Reach",
                "question": "Saat merasa sedih, apakah hal lain ikut terkena dampaknya?",
                "options": [
                    "Semua aspek hidup ikut murung",
                    "Beberapa hal ikut terbawa",
                    "Aku tetap berusaha menjaga agar aspek lain tetap stabil"
                ],
                "weights": [1, 2, 3],
                "reflection": "Menghadapi kesedihan bukan berarti membiarkannya menguasai segalanya."
            },
            {
                "id": 14,
                "dimension": "Reach",
                "question": "Jika ada kritik dari satu orang, kamu biasanya...",
                "options": [
                    "Merasa semua orang membenciku",
                    "Membawa rasa kecewa itu ke relasi lain",
                    "Memisahkan kritik personal dari hubungan lain"
                ],
                "weights": [1, 2, 3],
                "reflection": "Masalah kecil tak perlu menjadi badai besar jika kita cukup bijak."
            },
            {
                "id": 15,
                "dimension": "Reach",
                "question": "Jika satu target gagal, kamu merasa...",
                "options": [
                    "Motivasi semua hal jadi hilang",
                    "Butuh waktu memulihkan fokus ke yang lain",
                    "Aku tetap berusaha di area yang masih mungkin berhasil"
                ],
                "weights": [1, 2, 3],
                "reflection": "Ketegaran adalah kemampuan untuk menjaga cahaya di tengah kegelapan."
            },
            {
                "id": 16,
                "dimension": "Endurance",
                "question": "Saat sedang ada masalah berat, kamu merasa...",
                "options": [
                    "Ini akan berlangsung selamanya",
                    "Semoga hanya bertahan beberapa waktu",
                    "Setiap masalah pasti akan berlalu"
                ],
                "weights": [1, 2, 3],
                "reflection": "Sungguh bersama kesulitan ada kemudahan. (QS. Al-Insyirah: 6)"
            },
            {
                "id": 17,
                "dimension": "Endurance",
                "question": "Ketika diuji secara finansial, kamu merasa...",
                "options": [
                    "Aku akan terus hidup dalam kekurangan",
                    "Aku belum tahu kapan bisa keluar dari ini",
                    "InsyaAllah ini hanya fase menuju kematangan"
                ],
                "weights": [1, 2, 3],
                "reflection": "Tak ada luka yang abadi bagi jiwa yang bertawakal."
            },
            {
                "id": 18,
                "dimension": "Endurance",
                "question": "Jika kamu sakit secara fisik atau mental, kamu akan...",
                "options": [
                    "Menganggap ini nasib selamanya",
                    "Menunggu dan berharap pulih",
                    "Yakin bahwa Allah mencintai melalui ujian"
                ],
                "weights": [1, 2, 3],
                "reflection": "Ujian bukan akhir, tapi jembatan menuju penguatan jiwa."
            },
            {
                "id": 19,
                "dimension": "Endurance",
                "question": "Ketika relasi penting retak, kamu cenderung berpikir...",
                "options": [
                    "Hidup sosialku akan hancur total",
                    "Akan sulit membangun hubungan baru",
                    "Setiap luka pasti bisa sembuh dan tergantikan"
                ],
                "weights": [1, 2, 3],
                "reflection": "Keteguhan adalah kemampuan melihat harapan bahkan saat runtuh."
            },
            {
                "id": 20,
                "dimension": "Endurance",
                "question": "Jika pekerjaan impian gagal, kamu merasa...",
                "options": [
                    "Aku tidak akan pernah punya kesempatan lagi",
                    "Butuh waktu lama untuk memulihkan harapan",
                    "Pasti ada jalan lebih baik yang Allah siapkan"
                ],
                "weights": [1, 2, 3],
                "reflection": "Kegagalan dunia bukan berarti kegagalan hidup. Allah Maha Menyusun."
            }
        ];

        // Variabel state aplikasi
        let currentQuestionIndex = 0;
        const userAnswers = Array(quizData.length).fill(null);
        const scores = {
            "Control": 0,
            "Ownership": 0,
            "Reach": 0,
            "Endurance": 0
        };
        
        // Elemen DOM
        const questionContainer = document.querySelector('.question-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const progressText = document.getElementById('progress-text');
        const progressFill = document.getElementById('progress-fill');
        const dimensionTags = document.querySelectorAll('.dimension-tag');
        
        // Fungsi untuk menampilkan pertanyaan
        function showQuestion(index) {
            const question = quizData[index];
            let optionsHtml = '';
            
            // Buat opsi jawaban
            question.options.forEach((option, optionIndex) => {
                const isSelected = userAnswers[index] === optionIndex;
                optionsHtml += `
                    <div class="option ${isSelected ? 'selected' : ''}" data-index="${optionIndex}">
                        <div class="option-badge">${String.fromCharCode(65 + optionIndex)}</div>
                        <div class="option-text">${option}</div>
                    </div>
                `;
            });
            
            // Tampilkan pertanyaan
            questionContainer.innerHTML = `
                <div class="question-box">
                    <div class="question-header">
                        <div class="question-id">${question.id}</div>
                        <div class="question-dimension">${question.dimension}</div>
                    </div>
                    <div class="question-text">${question.question}</div>
                    <div class="options-container">
                        ${optionsHtml}
                    </div>
                    <div class="reflection-box">
                        <i class="fas fa-lightbulb reflection-icon"></i>
                        <span>${question.reflection}</span>
                    </div>
                </div>
            `;
            
            // Tambahkan event listener ke opsi
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', () => {
                    const selectedIndex = parseInt(option.dataset.index);
                    userAnswers[index] = selectedIndex;
                    
                    // Tandai opsi yang dipilih
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    option.classList.add('selected');
                    
                    // Tampilkan refleksi
                    document.querySelector('.reflection-box').style.display = 'flex';
                });
            });
            
            // Perbarui progress
            updateProgress();
            
            // Perbarui tag dimensi yang aktif
            updateActiveDimensionTag(question.dimension);
        }
        
        // Fungsi untuk memperbarui progress
        function updateProgress() {
            const answeredCount = userAnswers.filter(answer => answer !== null).length;
            const progress = ((currentQuestionIndex + 1) / quizData.length) * 100;
            
            progressText.textContent = `${currentQuestionIndex + 1}/${quizData.length}`;
            progressFill.style.width = `${progress}%`;
        }
        
        // Fungsi untuk memperbarui dimensi aktif
        function updateActiveDimensionTag(dimension) {
            dimensionTags.forEach(tag => {
                tag.classList.remove('active');
                if (tag.textContent === dimension) {
                    tag.classList.add('active');
                }
            });
        }
        
        // Fungsi untuk navigasi pertanyaan
        function goToQuestion(index) {
            if (index >= 0 && index < quizData.length) {
                currentQuestionIndex = index;
                showQuestion(currentQuestionIndex);
                
                // Sembunyikan tombol sebelumnya jika di pertanyaan pertama
                prevBtn.style.display = currentQuestionIndex === 0 ? 'none' : 'flex';
                
                // Ubah teks tombol berikutnya jika di pertanyaan terakhir
                if (currentQuestionIndex === quizData.length - 1) {
                    nextBtn.innerHTML = '<i class="fas fa-check-circle"></i> Selesaikan Kuis';
                    nextBtn.classList.add('btn-submit');
                    nextBtn.classList.remove('btn-next');
                } else {
                    nextBtn.innerHTML = 'Berikutnya <i class="fas fa-arrow-right"></i>';
                    nextBtn.classList.remove('btn-submit');
                    nextBtn.classList.add('btn-next');
                }
            }
        }
        
        // Fungsi untuk menghitung skor
        function calculateScores() {
            quizData.forEach((question, index) => {
                const answerIndex = userAnswers[index];
                if (answerIndex !== null) {
                    scores[question.dimension] += question.weights[answerIndex];
                }
            });
            
            // Normalisasi skor (0-100)
            Object.keys(scores).forEach(dimension => {
                // Maksimal skor per dimensi = 5 pertanyaan * 3 = 15
                scores[dimension] = Math.round((scores[dimension] / 15) * 100);
            });
            
            return scores;
        }
        
        // Fungsi untuk menampilkan hasil
        function showResults() {
            const scores = calculateScores();
            
            // Simpan hasil ke localStorage untuk diakses di halaman hasil
            localStorage.setItem('aqResults', JSON.stringify(scores));
            
            // Arahkan ke halaman hasil
            window.location.href = 'results.html';
        }
        
        // Event listeners
        prevBtn.addEventListener('click', () => {
            goToQuestion(currentQuestionIndex - 1);
        });
        
        nextBtn.addEventListener('click', () => {
            if (userAnswers[currentQuestionIndex] === null) {
                alert('Silakan pilih salah satu jawaban sebelum melanjutkan.');
                return;
            }
            
            if (currentQuestionIndex === quizData.length - 1) {
                showResults();
            } else {
                goToQuestion(currentQuestionIndex + 1);
            }
        });
        
        // Inisialisasi aplikasi
        function init() {
            prevBtn.style.display = 'none';
            goToQuestion(0);
        }
        
        // Jalankan inisialisasi saat halaman dimuat
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
